根据原文内容，为您继续翻译 **第 66-75 页** 的内容。

这一部分主要通过具体的 **XDM 属性示例** 深入讲解了如何使用 XPath 和其他属性进行逻辑判断，并详细定义了 **Schema 节点**（如容器、列表、变量等）的各种属性和规则。

---

### 5.1.4.3.8.8. 仅允许特定值 (使用 Range 属性)

```xml
<v:var name="Only2or4or8or20" type="INTEGER">
 <a:da name="INVALID" type="Range">
  <a:tst expr="=2" false="Only the values 2, 4, 8 and 20 are allowed"/>
  <a:tst expr="=4" false="Only the values 2, 4, 8 and 20 are allowed"/>
  <a:tst expr="=8" false="Only the values 2, 4, 8 and 20 are allowed"/>
  <a:tst expr="=20" false="Only the values 2, 4, 8 and 20 are allowed"/>
 </a:da>
</v:var>

```

此示例仅允许该节点使用特定的值（2, 4, 8, 20）。如果配置了其他值，将向用户返回 "false" 属性中定义的错误消息。

### 5.1.4.3.8.9. 取模运算符 (Modulus operator)

```xml
<v:var name="DivisibleBy3" type="INTEGER">
 <a:da name="INVALID" type="XPath" expr=". mod 3 = 0"
  false="Value must be divisible by 3"/>
</v:var>

```

如果配置的值不能被 3 整除，则标记该节点为无效。此时，将向用户返回 "false" 属性中的错误消息。

### 5.1.4.3.8.10. 使用节点值进行计算 (Calculating with node-values)

```xml
<v:var name="Mul2" type="INTEGER">
 <a:da name="INVALID" type="XPath"
  expr=". * ../Mul1 &gt;= 5 and . * ../Mul1 &lt;= 25"
  false="Mul1 * Mul2 must be between 5 and 25"/>
</v:var>

```

该节点的值乘以 'Mul1' 节点的值，结果必须在 5 到 25 之间。如果不是，将向用户返回错误消息。

```xml
<v:var name="Mul3" type="INTEGER">
 <a:da name="INVALID" type="XPath"
  expr=". * ../Mul1 = 5 or
        . * ../Mul1 = 10 or
        . * ../Mul1 = 20 or
        . * ../Mul1 = 40"
  false="Mul1 * Mul3 must be one of 5, 10, 20 or 40"/>
</v:var>

```

该节点的值乘以 'Mul1' 节点的值，结果必须是 5、10、20 或 40 之一。如果不是，将返回错误消息。

### 5.1.4.3.8.11. 正则表达式 (Regular expressions)

```xml
<v:var name="Regex" type="STRING">
 <a:da name="INVALID" type="XPath"
  expr="text:grep(., '^[A-Z][a-zA-Z0-9]*$')"
  false="Must start with a capital letter"/>
</v:var>

```

如果节点的值不匹配正则表达式（本例要求以大写字母开头），则标记为无效并返回错误消息。

### 5.1.4.3.8.12. 引用 (References)

```xml
<v:ref name="Reference" type="REFERENCE">
 <a:da name="REF" value="ASPathDataOfSchema:/AUTOSAR/Adc/Container/Int"/>
 <a:da name="RANGE" type="XPath">
  <a:tst expr="text:difference(
   node:paths(node:refs('ASPathDataOfSchema:/AUTOSAR/Adc/Container/Int')),
   node:paths(node:refs(node:refs('ASPathDataOfSchema:/AUTOSAR/Adc/Container/Reference4')))
  )"/>
 </a:da>
 <a:da name="INVALID" type="XPath" expr="node:refvalid(.)"
  false="The configured node does not exist or may not be referenced."/>
</v:ref>

```

`REF` 和 `RANGE` 属性都可用于定义用户可以配置哪些有效节点。

* `REF` 属性仅支持路径（不支持 XPath 表达式）。
* `RANGE` 属性是一个自动属性，因此可以包含复杂的 XPath 表达式。
* 如果两者都存在，则取交集。

上述示例不允许配置被 `/AUTOSAR/Adc/Container/Reference4` 引用的节点。`INVALID` 属性会在节点引用了无效目标（由 REF/RANGE 定义）时产生错误（默认情况下仅产生警告）。

### 5.1.4.3.8.13. 列表项的预配置值 (Preconfigured values for list-entries)

```xml
<v:lst name="PreConfiguredValues">
 <v:var name="Int" type="INTEGER">
  <a:da name="DEFAULT" type="XPath"
   expr="text:split('1 2 4 8 10', ' ')[position()-1 = node:current()/@index]"/>
 </v:var>
</v:lst>

```

添加到列表中的每个值的 `DEFAULT` 值取决于其在列表中的索引。通过这种方式，可以定义多个预配置值。

### 5.1.4.3.9. 限制 (Restrictions)

在 DataModel 中使用自动属性时有一些限制：

* **无法实时计算值**：没有办法让节点的值始终自动保持最新。相反，您可以使用 `DEFAULT` 属性，它为用户提供了一个 "Calculate"（计算）按钮，以便按需重新计算值。
* **LABEL 属性不能是自动的**：输入字段的标签始终是静态值。唯一可以是自动值的标签是页面的 `TITLE`。
* **避免无限循环**：不能在节点的 `ENABLE` 属性中访问该节点本身（通常是意外发生的，例如使用通配符引用兄弟节点时）。

---

### 5.1.4.4. 数据属性 (Data attributes)

数据属性是附加到 Data 节点（Data-nodes）的属性。它们可以在 Schema 节点中定义（作为默认值），也可以直接在 Data 节点中定义。

| 属性名 | 类型 | 描述 |
| --- | --- | --- |
| **IMPORTER_INFO** | string array | 导入器使用此属性添加关于节点来源的信息（从哪里导入的）。 |

### 5.1.4.5. 通用属性 (Common attributes)

有一些属性对所有类型的节点（Schema 节点和 Data 节点）都是通用的。

| 属性名 | 类型 | 描述 |
| --- | --- | --- |
| **UUID** | string | 节点的唯一标识符。 |
| **TIMESTAMP** | string | 节点的最后修改时间。 |

---

### 5.1.5. 通用节点 (Generic nodes)

通用节点是指既不是 Schema 节点也不是 Data 节点的节点。它们通常用于组织结构或元数据。

* **命名空间**：`http://www.tresos.de/_projects/DataModel2/16/root.xsd`

#### 5.1.5.1. link (链接节点)

`link` 节点用于在 DataModel 中创建链接。它可以指向任何其他节点。

**5.1.5.1.1. 属性**

* `dest`：链接目标的路径。

**5.1.5.1.2. 有效子节点**

* 无（链接节点不能有子节点）。

---

### 5.1.6. Schema 节点 (Schema-nodes)

Schema 节点定义配置参数及其结构。

* **命名空间**：`http://www.tresos.de/_projects/DataModel2/06/schema.xsd`
* **默认前缀**：`v`

以下是可以用于所有 Schema 节点的数据属性：

| 属性名 | 类型 | 描述 |
| --- | --- | --- |
| **ENABLE** | Boolean | 如果设置为 `false`，则该 Data 节点被视为不存在于树中（即被禁用）。 |
| **INVALID** | string array | 这必须是一个自动属性，用于生成错误消息列表。如果生成了消息，则该 Data 节点被视为错误的。 |
| **WARNING** | string array | 这必须是一个自动属性，用于生成警告消息列表。如果生成了消息，则该 Data 节点被视为可能不正确。 |
| **DESC** | string | 节点的描述（例如用于工具提示）。 |
| **ORIGIN** | string | 参数来源的描述（供应商、模块名称、版本、目标）。 |

#### 5.1.6.1. ctr (容器)

容器节点用于将其他节点分组。它对应于 AUTOSAR 中的 Container 概念。

**5.1.6.1.1. 属性和数据属性**

| 属性名      | 类型     | 描述                            |
| -------- | ------ | ----------------------------- |
| **name** | string | 容器的名称。                        |
| **type** | string | 容器的类型。这通常对应于 AUTOSAR 定义的容器类型。 |

**5.1.6.1.2. 有效子节点**

* 所有 Schema 节点 (`v:ctr`, `v:chc`, `v:lst`, `v:var`, `v:ref`)。

#### 5.1.6.2. chc (选择)

选择节点 (Choice) 是一种特殊的容器，它强制用户从多个可能的子结构中选择一个。它对应于 AUTOSAR 中的 ChoiceContainer。

**5.1.6.2.1. 属性和数据属性**

* 与 `ctr` 类似。

**5.1.6.2.2. 有效子节点**

* `v:ctr` (选择的选项通常必须是容器)。

#### 5.1.6.3. lst (列表)

列表节点 (List) 用于包含多个相同类型的子节点。这对应于 AUTOSAR 中 multiplicity > 1 的容器或参数。

**5.1.6.3.1. 属性和数据属性**

| 数据属性 | 类型 | 描述 |
| --- | --- | --- |
| **MIN** | long | 定义 (Data 节点) 列表中节点的最小数量。如果条目少于此数量，则视为错误。创建列表时，它将默认拥有 MIN 个条目。 |
| **MAX** | long | 定义 (Data 节点) 列表中节点的最大数量。如果条目多于此数量，则视为错误。 |

**5.1.6.3.2. 有效子节点**

* 列表只能包含**一个** Schema 节点作为模板（例如 `v:ctr` 或 `v:var`）。该模板定义了列表中每个条目的结构。

#### 5.1.6.4. var (变量)

变量节点定义实际的配置参数（如整数、布尔值、字符串）。

**5.1.6.4.1. 属性和数据属性**

| 属性名 | 类型 | 描述 |
| --- | --- | --- |
| **type** | string | 变量的数据类型。可以是 `BOOLEAN`, `INTEGER`, `FLOAT`, `STRING`, `ENUMERATION`, `LINKER-SYMBOL`, `FUNCTION-NAME`。 |
| **WITH-AUTO** | boolean | (属性 `a:a`) 如果设置为 true，用户可以选择手动输入值，或者让代码生成器在生成期间计算它。如果为 false，用户必须手动编辑。 |

| 数据属性 | 类型 | 描述 |
| --- | --- | --- |
| **DEFAULT** | string | 定义 Data 节点的默认值。这也可以是一个自动属性。 |
| **RANGE** | string array | 限制有效值范围。范围的解释取决于变量类型。 |

**RANGE 属性的用法：**

* **INT / FLOAT**: 可以使用表达式如 `min - max`, `< value`, `>= value` 等。
* **STRING**: 可以是允许值的列表，或者是正则表达式（以 `~` 开头）。
* **BOOLEAN**: 定义真值和假值的显示文本（第一个值是 true，第二个是 false）。
* **ENUMERATION**: 定义所有可能的枚举值。

**5.1.6.4.2. 有效子节点**

* 无（变量节点是叶子节点）。

---

**（第 66-75 页翻译结束）**

目前还剩下 **第 76-81 页** 的内容，包括：

* **5.1.6.5 ref (引用节点)** 的详细定义。
* **5.1.7 Data 节点** 的详细定义（`d:ctr`, `d:lst` 等）。
* **5.1.8 工厂 (Factories)**。
* **5.1.9 路径寻址 (Path addressing)**。
* **5.2 AUTOSAR 映射概念** 的开头。

**是否继续翻译最后这部分（第 76-81 页）？**