这是文档 **第 81-89 页** 的翻译内容，涵盖了 **5.2 节：概念：AUTOSAR ECU 配置到 XDM 的映射** 中的 Schema 节点映射部分。

这一部分详细列出了 AUTOSAR 标准中的各种参数定义（*-DEF）是如何转换为 EB tresos Studio 使用的 XDM Schema 节点的，特别展示了“简单形式”与“带有外围列表形式”的映射差异。

---

### 5.2.

概念：AUTOSAR ECU 配置到 XDM 的映射 (Concepts: Mapping AUTOSAR ECU Configuration to XDM) 111

AUTOSAR 定义了用于描述 ECU 配置及其参数定义的 XML 格式。EB tresos Studio 使用 XDM 格式来存储这些信息。本节描述 AUTOSAR 元素如何映射到 XDM 节点。

#### 5.2.1.

节点映射 (Node mapping) 222

**ECU 参数定义 (ECU Parameter Definition)** 将在 DataModel 中表示为 **Schema 树 (schema-tree)**，而 **ECU 配置描述 (ECU Configuration Description)** 将表示为 **Data 树 (data-tree)**。所有 AUTOSAR 节点都将被映射到 DataModel 的节点。

#### 5.2.1.1.

Schema 节点 (Schema-Nodes) 333

+2

5.2.1.1.1. AR-PACKAGE 444

没有对应的 Data 节点。+2

- **XDM 映射：** `<d:ctr type="AR-PACKAGE"/>`
    

5.2.1.1.2. MODULE-DEF 555

对应的 Data 节点：见 5.2.1.14.2 节 "MODULE-CONFIGURATION"。+2

- **XDM 映射：** `<v:ctr name="myModule" type="MODULE-DEF"/>`
    

5.2.1.1.3. PARAM-CONF-CONTAINER-DEF 66666

对应的 Data 节点：见 5.2.1.14.3 节 "CONTAINER"。+3

|**简单形式 (Simple)**|**带有外围列表的形式 (With surrounding list)**|
|---|---|
|`<v:ctr name="myCtr" type="IDENTIFIABLE"/>`|`<v:lst name="myCtr" type="MAP">`<br><br>  <br><br>`<v:ctr name="myCtr" type="IDENTIFIABLE"/>`<br><br>  <br><br>`</v:lst>`|

5.2.1.1.4. MULTIPLE-CONFIGURATION-CONTAINER 777

标签 MULTIPLE-CONFIGURATION-CONTAINER 只能包含在 PARAM-CONF-CONTAINER-DEF 中，并将此容器标记为多重配置集。此信息在 Data 树中不可见。在 XDM 文件中，Schema 树和 Data 树中总是存在一个列表。

对应的 Data 节点：见 5.2.1.14.3 节 "CONTAINER"。+2

5.2.1.1.5. BOOLEAN-PARAM-DEF 88888

对应的 Data 节点：见 5.2.1.14.5 节 "BOOLEAN-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:var name="bit" type="BOOLEAN"/>`|`<v:lst name="bit">`<br><br>  <br><br>`<v:var name="bit" type="BOOLEAN"/>`<br><br>  <br><br>`</v:lst>`|

5.2.1.1.6. INTEGER-PARAM-DEF 99999

对应的 Data 节点：见 5.2.1.14.6 节 "INTEGER-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:var name="myInt" type="INTEGER"/>`|`<v:lst name="myInt">`<br><br>  <br><br>`<v:var name="myInt" type="INTEGER"/>`<br><br>  <br><br>`</v:lst>`|

5.2.1.1.7. FLOAT-PARAM-DEF 1010101010

对应的 Data 节点：见 5.2.1.14.7 节 "FLOAT-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:var name="myFloat" type="FLOAT"/>`|`<v:lst name="value">`<br><br>  <br><br>`<v:var name="value" type="FLOAT"/>`<br><br>  <br><br>`</v:lst>`|

5.2.1.1.8. STRING-PARAM-DEF 1111111111

对应的 Data 节点：见 5.2.1.14.8 节 "STRING-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:var name="myStrg" type="STRING"/>`|`<v:lst name="myStrg">`<br><br>  <br><br>`<v:var name="myStrg" type="STRING"/>`<br><br>  <br><br>`</v:lst>`|

5.2.1.1.9. LINKER-SYMBOL-DEF 1212121212

对应的 Data 节点：见 5.2.1.14.9 节 "LINKER-SYMBOL-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:var name="LinkerSymbol" type="LINKER-SYMBOL"/>`|`<v:lst name="LinkerSymbol">`<br><br>  <br><br>`<v:var name="LinkerSymbol" type="LINKER-SYMBOL"/>`<br><br>  <br><br>`</v:lst>`|

5.2.1.1.10. FUNCTION-NAME-DEF 1313131313

对应的 Data 节点：见 5.2.1.14.10 节 "FUNCTION-NAME-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:var name="myFunction" type="FUNCTION-NAME"/>`|`<v:lst name="myFunction">`<br><br>  <br><br>`<v:var name="myFunction" type="FUNCTION-NAME"/>`<br><br>  <br><br>`</v:lst>`|

5.2.1.1.11. ENUMERATION-PARAM-DEF 1414141414

对应的 Data 节点：见 5.2.1.14.11 节 "ENUMERATION-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:var name="enum" type="ENUMERATION">`<br><br>  <br><br>`<a:da name="RANGE">`<br><br>  <br><br>`<a:v>Enum1</a:v>`<br><br>  <br><br>`<a:v>Enum2</a:v>`<br><br>  <br><br>`</a:da>`<br><br>  <br><br>`</v:var>`|`<v:lst name="enum">`<br><br>  <br><br>`<v:var name="enum" type="ENUMERATION">`<br><br>  <br><br>`<a:da name="RANGE">`<br><br>  <br><br>`<a:v>Enum1</a:v>`<br><br>  <br><br>`<a:v>Enum2</a:v>`<br><br>  <br><br>`</a:da>`<br><br>  <br><br>`</v:var>`<br><br>  <br><br>`</v:lst>`|

5.2.1.2. CHOICE-CONTAINER-DEF 1515151515

在 AUTOSAR 2.1 之前，AUTOSAR 中没有对应的数据节点标签。但在 tresos 中有一个数据节点：见 5.2.1.14.4 节 "Choices"。从 AUTOSAR 3.0 开始，有一个对应的数据节点标签，它与容器 (CONTAINER) 的标签相同。+3

**XDM 映射对比:**

- **Autosar 2.x:**
    
    - **简单形式:**
        
        XML
        
        ```
        <v:chc name="myChc">
          <v:ctr name="myCtr1"/>
          <v:ctr name="myCtr2"/>
        </v:chc>
        ```
        
    - **带有外围列表的形式:**
        
        XML
        
        ```
        <v:lst name="myChc" type="MAP">
          <v:chc name="myChc">
            <v:ctr name="myCtr1"/>
            <v:ctr name="myCtr2"/>
          </v:chc>
        </v:lst>
        ```
        
- **Autosar 3.x:**
    
    - **简单形式:**
        
        XML
        
        ```
        <v:chc name="myChc" type="IDENTIFIABLE">
          <v:ctr name="myCtr1"/>
          <v:ctr name="myCtr2" type="IDENTIFIABLE"/>
        </v:chc>
        ```
        
    - **带有外围列表的形式:**
        
        XML
        
        ```
        <v:lst name="myChc" type="MAP">
          <v:chc name="myChc" type="IDENTIFIABLE">
            <v:ctr name="myCtr1"/>
            <v:ctr name="myCtr2" type="IDENTIFIABLE"/>
          </v:chc>
        </v:lst>
        ```
        

5.2.1.3. CHOICE-REFERENCE-DEF 1616161616

对应的 Data 节点：见 5.2.1.14.12 节 "REFERENCE-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:ref name="myChrRef" type="CHOICE-REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASPathDataOfSchema:/..."/>`<br><br>  <br><br>`<a:da name="REF-TYPE" value="ASPath"/>`<br><br>  <br><br>`</v:ref>`|`<v:lst name="myChrRef">`<br><br>  <br><br>`<v:ref name="myChrRef" type="CHOICE-REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASPathDataOfSchema:/..."/>`<br><br>  <br><br>`<a:da name="REF-TYPE" value="ASPath"/>`<br><br>  <br><br>`</v:ref>`<br><br>  <br><br>`</v:lst>`|

5.2.1.4. REFERENCE-DEF 1717171717

对应的 Data 节点：见 5.2.1.14.12 节 "REFERENCE-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:ref name="myRef" type="REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASPathDataOfSchema:/..."/>`<br><br>  <br><br>`<a:da name="REF-TYPE" value="ASPath"/>`<br><br>  <br><br>`</v:ref>`|`<v:lst name="myRef">`<br><br>  <br><br>`<v:ref name="myRef" type="REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASPathDataOfSchema:/..."/>`<br><br>  <br><br>`<a:da name="REF-TYPE" value="ASPath"/>`<br><br>  <br><br>`</v:ref>`<br><br>  <br><br>`</v:lst>`|

5.2.1.5. SYMBOLIC-NAME-REFERENCE-DEF 1818181818

对应的 Data 节点：见 5.2.1.14.12 节 "REFERENCE-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:ref name="mySrc" type="SYMBOLIC-NAME-REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASPathDataOfSchema:/..."/>`<br><br>  <br><br>`<a:da name="REF-TYPE" value="ASPath"/>`<br><br>  <br><br>`</v:ref>`|`<v:lst name="mySrc">`<br><br>  <br><br>`<v:ref name="mySrc" type="SYMBOLIC-NAME-REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASPathDataOfSchema:/..."/>`<br><br>  <br><br>`<a:da name="REF-TYPE" value="ASPath"/>`<br><br>  <br><br>`</v:ref>`<br><br>  <br><br>`</v:lst>`|

5.2.1.6. INSTANCE-REFERENCE-DEF 1919191919

对应的 Data 节点：见 5.2.1.14.13 节 "INSTANCE-REFERENCE-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:ctr name="myInst" type="INSTANCE">`<br><br>  <br><br>`<v:ref name="TARGET" type="REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASTyped:RunnableEntity"/>`<br><br>  <br><br>`</v:ref>`<br><br>  <br><br>`<v:lst name="CONTEXT">`<br><br>  <br><br>`<v:ref name="CONTEXT" type="REFERENCE">`<br><br>  <br><br>`<a:da name="RANGE" type="IRefCtxt">`<br><br>  <br><br>`<a:tst expr="ComponentPrototype"/>`<br><br>  <br><br>`<a:tst expr="PortPrototype*"/>`<br><br>  <br><br>`</a:da>`<br><br>  <br><br>`</v:ref>`<br><br>  <br><br>`</v:lst>`<br><br>  <br><br>`</v:ctr>`|`<v:lst name="myInst">`<br><br>  <br><br>`<v:ctr name="myInst" type="INSTANCE">`<br><br>  <br><br>`<v:ref name="TARGET" type="REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASTyped:RunnableEntity"/>`<br><br>  <br><br>`</v:ref>`<br><br>  <br><br>`<v:lst name="CONTEXT">`<br><br>  <br><br>`<v:ref name="CONTEXT" type="REFERENCE">`<br><br>  <br><br>`<a:da name="RANGE" type="IRefCtxt">`<br><br>  <br><br>`<a:tst expr="ComponentPrototype"/>`<br><br>  <br><br>`<a:tst expr="PortPrototype*"/>`<br><br>  <br><br>`</a:da>`<br><br>  <br><br>`</v:ref>`<br><br>  <br><br>`</v:lst>`<br><br>  <br><br>`</v:ctr>`<br><br>  <br><br>`</v:lst>`|

5.2.1.7. FOREIGN-REFERENCE-DEF 2020202020

对应的 Data 节点：见 5.2.1.14.12 节 "REFERENCE-VALUE"。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:ref name="myRef" type="FOREIGN-REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASPathDataOfSchemaChoice:/..."/>`<br><br>  <br><br>`<a:da name="REF-TYPE" value="ASPath"/>`<br><br>  <br><br>`</v:ref>`|`<v:lst name="myRef">`<br><br>  <br><br>`<v:ref name="myRef" type="FOREIGN-REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASPathDataOfSchemaChoice:/..."/>`<br><br>  <br><br>`<a:da name="REF-TYPE" value="ASPath"/>`<br><br>  <br><br>`</v:ref>`<br><br>  <br><br>`</v:lst>`|

5.2.1.8. ECUC-URI-REFERENCE-DEF 2121212121

对应的 Data 节点：见 5.2.1.14.12 节 "REFERENCE-VALUE"。请参阅 5.2.7.1 节 "URI References" 了解其背后的概念。+3

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:ref name="UriRef" type="URI-REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASPath:/..."/>`<br><br>  <br><br>`</v:ref>`|`<v:lst name="UriRef">`<br><br>  <br><br>`<v:ref name="UriRef" type="URI-REFERENCE">`<br><br>  <br><br>`<a:da name="REF" value="ASPath:/..."/>`<br><br>  <br><br>`</v:ref>`<br><br>  <br><br>`</v:lst>`|

5.2.1.9 - 5.2.1.13. DERIVED-*-PARAM-DEF 222222222222222222

这些是派生参数定义（Boolean, Integer, Float, String, Enumeration）。

对应的 Data 节点与非派生版本相同。

特点： 在 XDM 中，这些变量会包含一个额外的属性：<a:a name="DERIVED" value="true"/>。+2

例如 **5.2.1.9 DERIVED-BOOLEAN-PARAM-DEF**:

|**简单形式**|**带有外围列表的形式**|
|---|---|
|`<v:var name="myBool" type="BOOLEAN">`<br><br>  <br><br>`<a:a name="DERIVED" value="true"/>`<br><br>  <br><br>`</v:var>`|`<v:lst name="myBool">`<br><br>  <br><br>`<v:var name="myBool" type="BOOLEAN">`<br><br>  <br><br>`<a:a name="DERIVED" value="true"/>`<br><br>  <br><br>`</v:var>`<br><br>  <br><br>`</v:lst>`|

类似的结构适用于 **5.2.1.10 Integer**, **5.2.1.11 Float**, **5.2.1.12 String** 和 **5.2.1.13 Enumeration** 类型的派生参数定义。