这是文档 **第 250-256 页** 的翻译内容。

由于篇幅较长，为您翻译了 **第 250-256 页** 的内容（涵盖了代码生成器变量列表、宏的使用、以及空格/换行/缩进的详细控制）。**第 257-260 页**（关于文件排除、错误处理及公共生成器 API）的内容将在下一次回复中继续提供。

---

### 7.2.9. 变量和宏 (Variables and macros) (续)

_(接第 249 页，以下是代码生成器中可用的预定义变量列表)_

- buildnr
    
    生成器变量，存储 EB tresos Studio 的构建号 (build number)。
    
- relversion
    
    生成器变量，存储 EB tresos Studio 的发布版本 (release version)。
    
- tresosBase
    
    生成器变量，存储 EB tresos Studio 的安装目录。
    
- pluginPath
    
    生成器变量，存储注册该生成器的 Eclipse 插件的安装绝对路径。
    
- outputDir
    
    生成器变量，存储生成路径 (generation path)。
    
- generationDir
    
    生成器变量，存储项目设置中保存的生成路径。在传统模式 (legacy mode) 下，它与变量 outputDir 相同。
    
- generationPaths
    
    生成器变量，存储每个模块配置的生成路径，顺序与变量 generateConfigs 中的顺序相同。仅考虑启用了代码生成的模块配置。
    
- generationPathsDistinct
    
    生成器变量，存储不包含重复项的生成路径。未启用代码生成的模块配置不被考虑。
    
- project
    
    生成器变量，存储当前正在处理的项目的名称。在传统模式下，此变量可以通过 -Dproject=<Project Name> 设置。
    
- projectDir
    
    生成器变量，存储当前正在处理的项目的绝对路径。在传统模式下，如果未设置变量 project，或者工作区中不存在该项目，则此变量可能为空。
    
- module
    
    生成器变量，存储当前正在处理的模块的 module-id。
    
- modules
    
    生成器变量，存储本次生成器或验证运行中处理的所有 module-id 的空格分隔列表。
    
- generateModules
    
    生成器变量，存储本次生成器运行中为其生成代码的所有 module-id 的空格分隔列表。
    
- enabledModules
    
    生成器变量，存储当前处理项目中所有已启用 (enabled) 的模块的 module-id 的空格分隔列表。
    

_(第 250 页结束)_

---

_(第 251 页)_

- defaultconfig
    
    生成器变量，存储当一个模块生成多个模块配置时，应被视为默认配置的模块配置名称。默认情况下，这是找到的第一个模块配置。
    
- config
    
    生成器变量，存储当前正在生成的模块配置的名称（当一个模块生成多个模块配置时）。
    
- configs
    
    生成器变量，存储当前处理模块的所有模块配置的名称。
    
- generateConfigs
    
    生成器变量，存储当前处理模块中所有启用了代码生成的模块配置的名称。
    
- enabledConfigs
    
    生成器变量，存储当前处理模块中所有已启用的模块配置的名称。
    
- configClass
    
    生成器变量，存储生成器的 AUTOSAR 配置类 (configuration class)。
    
- postBuildVariant
    
    生成器变量，存储当前构建的构建后变体 (post-build variant) 的短名称 (short-name)。
    
- moduleSpecVer
    
    生成器变量，存储当前处理模块的规范版本，格式为 <major>.<minor>.<patch>。
    
- moduleSoftwareVer
    
    生成器变量，存储当前处理模块的软件版本，格式为 <major>.<minor>.<patch>。
    
- moduleReleaseVer
    
    生成器变量，存储当前处理模块的发布版本，格式为 <major>.<minor>.<patch>。
    
- moduleType
    
    生成器变量，存储当前处理模块的模块类型 (module type)。
    
- moduleLayer
    
    生成器变量，存储当前处理模块的模块层级 (module layer)。
    
- moduleCategory
    
    生成器变量，存储当前处理模块的模块类别 (module category)。
    
- mode
    
    生成器变量，存储生成器模式。
    
- step
    
    生成器变量，存储当前的生成步骤。
    

_(第 251 页结束)_

---

_(第 252 页)_

- template
    
    生成器变量，存储模板名称。
    
- session
    
    生成器变量，存储当前生成器会话的会话 ID。
    

除了变量之外，代码生成器还支持宏 (macros)。宏的定义如下：

```
[!MACRO "<Macro-Name>", "<Parameter-Name>" = "<Default-Value>",...!]
...
[!ENDMACRO!]
```

宏可以拥有参数，这些参数可以在宏内部像 XPath 表达式中的变量一样使用。所有参数都有一个名称，并且可以有一个默认值（当宏调用中未设置该参数时使用）。默认值始终解释为 XPath 表达式。

参数名称是普通文本字符串。如果宏名称不以问号开头，它也是普通文本字符串；如果以问号开头，宏名称的剩余部分将被解释为 XPath 表达式。

可以使用以下命令调用宏：

```
[!CALL "<Macro-Name>", "<Parameter-Name>" = "<Parameter-Value>",...!]
```

宏的内容在调用时被评估，并添加到调用位置的输出流中。每个参数值都被解释为 XPath 表达式。每个参数名称都是纯文本字符串。与宏定义一样，如果宏名称不以问号开头，它通常是纯文本字符串。在这种情况下，它也被解释为 XPath 表达式。宏的所有参数都被解释为局部变量，这意味着它们在宏调用期间会遮蔽全局变量，并在宏结束后消失。

### 7.2.10. 空格、换行和缩进 (Spaces, newlines and indentation)

#### 7.2.10.1. 制表位 (Tab stops)

缩进可以通过特殊变量 `$tabs` 来控制。此变量可以用作宏的参数或普通变量。当代码生成器在行首遇到**百分号后跟三个空格**（`%` ）时，此字符组合将被替换为数量等于 `$tabs` 的空格。

```
%   intended text
[!"$tabs"!]intended text
```

_(第 252 页结束)_

---

_(第 253 页)_

#### 7.2.10.2. 空白字符 (Whitespaces)

要显式写入空白字符，可以使用 `WS` 命令，该命令可选地接受空格数量作为参数：

```
[!WS!]one whitespace
[!WS "2"!]two spaces
[!WS "$tabs"!]spaces as defined in variable tabs
```

> 注意：将变量作为参数的 WS 命令
> 
> 如果同一个 WS 命令被执行多次（例如在循环或宏中使用），它不会重新评估其参数。WS 命令的参数仅在命令第一次执行时评估。如果您使用的表达式在第二次执行时返回不同的值，WS 命令将不会识别这一点，而是再次使用之前的值。尽管这种行为违反直觉，但由于与 EB tresos Studio 旧版本的兼容性要求，不会对其进行更改。作为一种解决方法，您可以使用 INDENT 命令实现类似的行为。

#### 7.2.10.3. 换行符 (Newlines)

要显式写入换行符，可以使用 `CR` 命令（回车）：

```
[!CR!]
```

#### 7.2.10.4. 自动空格处理 (Auto-spacing)

自动空格处理允许您在代码模板中缩进生成器命令，而不会让缩进的空格和换行符影响生成的代码。可以通过一条命令为每个模板文件开启自动空格处理：

```
[!AUTOSPACING!]
```

如果开启，它会对**不产生输出的命令**执行以下操作：

- 如果命令前面只有空格，它们会被移除。
    
- 如果命令后面只有空格和换行符，空格和换行符会被移除。
    

假设有以下代码模板，一次开启自动空格处理，一次不开启：

_(第 253 页结束)_

---

_(第 254 页)_

```
[!CODE!]
  [!LOOP "text:split('1 2')"!]
    myoutput
  [!ENDLOOP!]
[!ENDCODE!]
```

**不开启**自动空格处理时，将生成以下代码（为了使空格和换行符可见，它们分别打印为 `.` 和 `<CR>`）：

```
..<CR>
....myoutput<CR>
..<CR>
....myoutput<CR>
..<CR>
<CR>
```

**开启**自动空格处理后，输出将如下所示：

```
....myoutput<CR>
....myoutput<CR>
```

_(第 254 页结束)_

---

_(第 255 页)_

> 注意：
> 
> AUTOSPACING 有许多限制。现有代码可能依赖于当前实现的特定行为。由于向后兼容性要求，目前不计划修复这些限制。已知限制列在下方。

- 警告：AUTOSPACING 移除中间的空格
    
    如果启用了自动空格处理，命令前的空格也会被移除，即使非空白文本位于空白之前。结果是，生成的代码中可能会丢失重要的空格。例如，代码 #define [!IF "true()"!]one[!ENDIF!] 将产生结果 #defineone。
    
    作为解决方法，您可以使用命令 [!"' '"!] 或 [!WS!] 代替空格。在上面的例子中，另一个解决方法是在 if 内部包含所需的空格字符，直接位于 one 之前：#define [!IF "true()"!] one[!ENDIF!]。这将产生预期的结果：#define one。
    
- 警告：AUTOSPACING 在注释中无法正常工作
    
    如果您在基于模板的代码生成器中使用命令 [!AUTOSPACING!]，仅包含 [!/* comment */!] 的代码行将生成为空行。
    
    作为解决方法，您可以使用 [!// 引用行尾。
    
- 警告
    
    AUTOSPACING 命令不会移除包含 [!ELSE!] 或 [!ELSEIF ""!] 命令的行尾的回车符（CRs）。
    
    作为解决方法，您可以使用 [!// 引用行尾。
    
- 警告
    
    如果条件参数跨越多行，AUTOSPACING 命令不会移除 [!IF ""!] 表达式前的引导空格。
    
    作为解决方法，您可以使用 [!"' '"!] 或 [!WS!] 命令显式指定空白。
    
- 注意
    
    如果命令后面有空白字符，AUTOSPACING 命令不会移除回车符。
    

_(第 255 页结束)_

---

_(第 256 页)_

#### 7.2.10.5. 缩进 (Indentation)

如果您需要对多行进行相同的缩进，可以使用 `INDENT` 命令，它接受用于缩进的空格数量作为参数。`INDENT` 块内的所有输出都将被缩进。

```
[!INDENT "4"!]
void MyFunction(void)
{
    /* These lines will be indented by 4 spaces */
    DoSomething();
}
[!ENDINDENT!]
```

上面的模板代码产生以下输出（为了使空格可见，它们打印为 `.`）：

```
zero
....one
....two
....three
```

> 警告：INDENT 可能对第一行无效
> 
> 如果您将命令 [!INDENT!] 与 [!AUTOSPACING!] 一起使用，并且位于产生输出的第一行之前，则第一行将不会被缩进。
> 
> 作为解决方法，您可以例如在 [!INDENT!] 块之前添加一个额外的换行符。由于向后兼容性要求，目前不计划修复此限制。

### 7.2.11. 从生成中排除文件 (Excluding files from the generation)

可以使用一个特殊的标记将文件从生成过程中排除。当代码生成器遇到 `[!SKIPFILE!]` 标记时，它会标记该文件。当应用程序处理到这个被标记的文件时，根本不会生成它（尽管它会被完全解析，并且会发出错误和警告）。

`[!SKIPFILE!]` 标记有两种形式：

1. `[!SKIPFILE!]`
    
2. `[!SKIPFILE "<XPath-Expression>"!]`
    

在第一种形式中，文件在任何情况下都不会被生成。

在第二种形式中，仅当 XPath 表达式的计算结果为 false 时，才会生成文件（即表达式为 true 时跳过）。

_(第 256 页结束)_

---
这是文档 **第 257-266 页** 的翻译内容。

这一部分涵盖了 **断言、错误和警告** 的处理，详细介绍了 **公共生成器 API (Public Generator API)** 的注册与实现，以及功能更强大的 **NG 生成器 API**（包括对 JET 模板、C 数据结构生成器和 Apache Ant 的支持），最后介绍了 **EPC 文件生成器 API**。

---

### 7.2.12. 断言、错误和警告 (Asserts, errors and warnings)

为了在生成过程中检查配置并向用户发布错误和警告，代码生成器支持四种结构：断言 (asserts)、错误 (errors)、警告 (warnings) 和信息消息 (info messages)。通过这些结构提交的消息通过回调接口传递给应用程序。错误和断言会立即停止生成过程，而警告和信息消息仅向应用程序提交一条消息。

错误、警告和信息消息都使用相同的语法：

```
[!ERROR "<Message>"!]
[!ERROR!] <Message> [!ENDERROR!]

[!WARNING "<Message>"!]
[!WARNING!] <Message> [!ENDWARNING!]

[!INFO "<Message>"!]
[!INFO!] <Message> [!ENDINFO!]
```

每种结构都有两种形式：

1. **直接形式**：直接在起始标记中包含消息。不需要结束标记（例如 `[!ENDERROR!]` 等）。在这种情况下，如果消息不以问号开头，则解释为纯文本。如果以问号开头，则消息的其余部分将被评估为 XPath 表达式。
    
2. **块形式**：比第一种更强大。在第二种形式中，消息体可以包含迄今为止描述的所有结构（如 `[!IF!]`, `[!LOOP!]` 等）。
    

**断言 (Assert)** 是错误语句的一种特殊形式。它包含一个 XPath 表达式。只有当此表达式计算结果为 `false` 时，才会打印消息并结束生成运行。

与其它结构一样，断言也有两种形式：

```
[!ASSERT "<XPath expression>","<Message>"!]
[!ASSERT "<XPath expression>"!] <Message> [!ENDASSERT!]
```

这两种形式的工作方式与其他结构相同。

---

### 7.3. 公共生成器 API (Public Generator API)

要为模块注册一个公共 API 生成器，必须完成两个步骤：

1. 注册扩展点 `dreisoft.tresos.generator.api.plugin.generator`。
    
2. 实现公共 API 生成器 Java 类。
    

如何完成这些操作将在第 7.3.1 节“注册公共 API 生成器”中说明。另请参阅演示插件 `PublicApiTest_TS_T00D0M0I0R0`。

#### 7.3.1. 注册公共 API 生成器 (Registering A Public API Generator)

- 打开插件的 `plugin.xml` 并切换到 **Extensions** 标签页。
    
- 点击 **Add** 并选择 `dreisoft.tresos.generator.api.plugin.generator` 扩展点。
    
- 在右侧输入以下值：
    
    - **Generator-ID**：此生成器的标识符。
        
    - **Module-ID**：此生成器应注册到的模块。
        
        > 💡 提示：留空 Module-ID 可用于模块无关的生成器
        > 
        > Module-ID 也可以留空。在这种情况下，生成器将是模块无关的 (module-independent)，并将为每个模块运行。注意，模块无关的生成器仅允许在 pre 和 post 步骤中使用。
        
    - **Step**：此生成器应运行的步骤。步骤可以是 `pre`、`post` 或 `default`（留空则为 default）。
        
    - **ConfigClass**：此生成器的配置类。生成器只能访问其配置类或配置过程中较早的配置类的参数。配置类必须是可编辑的才能运行生成器。
        
- 点击 `class*:` 或 **Browse...** 创建或查找已实现的生成器类。
    

如何创建生成器将在第 7.3.2 节“实现公共 API 生成器”中解释。

有关更多信息，请参阅扩展点描述。另请参阅第 4.5 节“如何打开扩展点描述”。

#### 7.3.2. 实现公共 API 生成器 (Implementing a Public API Generator)

公共 API 生成器必须实现接口 `dreisoft.tresos.generator.api.generator.ICodeGenerator` 以及以下三个方法：

1. `public void generate( CodeGeneratorContext context )`
    
2. `public String getDefaultMode()`
    
3. `public String[] getAvailableModes( ParameterSet parameters )`
    

**示例：**

Java

```
/*
 * 返回生成器可以调用的模式
 */
public String[] getAvailableModes( ParameterSet parameters ) {
    return new String[]{MODE_GENERATE};
    // 如果还想用此生成器进行验证，可以使用：
    // return new String[]{MODE_GENERATE, MODE_VERIFY};
}

/*
 * 返回生成器的默认模式 - 在此例中为 "generate"
 */
public String getDefaultMode() {
    return MODE_GENERATE;
}
```

关于 `public void generate( CodeGeneratorContext context )` 的示例可以在 `test.tresos.plugin.generator` 包中的 `test.tresos.plugin` 类 `TestGenerator` 中找到。

#### 7.3.2.1. API

有关公共 API 生成器的详细信息，请查阅 Public API Java 文档。如果您已将 `eclipse_tools.zip` 安装到 Eclipse 中，可以通过 **Help -> Help Contents -> Public API Java documentation** 调用它。

---

### 7.4. NG 生成器 API (NG Generator API)

#### 7.4.1. 目的 (Purpose)

自 EB tresos Studio 2008.b 版本起，提供了一个新的生成器框架。所谓的 **新一代 (NG) 生成器 API** 带来了许多新功能，同时也支持经典的基于模板的和外部的代码生成器。当然，现有的生成器框架仍然有效，无需切换到新 API。

本章仅简要概述新的生成器框架。有关 NG 生成器 API 的详细信息和示例，请参阅插件 `dreisoft.tresos.generator.ng.api.plugin` 的 API 文档。

您可以在位于 `<tresos-install-dir>/demos/Studio` 的插件 `PublicApiTest_TS_T00D0M0I0R0` 中找到完整的演示。您可以通过在 Package Explorer 中右键单击并选择 **Import... -> Import Existing Project Into Workspace** 将此演示插件导入到您的 Eclipse 安装中。

#### 7.4.2. JET 支持 (JET Support)

NG 生成器 API 包含对基于 **JET (Java Emitter Templates)** 模板的生成器的支持。JET 语言是一种类似于 JSP 的脚本语言，它使用带有 Java 代码的脚本片段在固定文本之间生成动态输出。

在执行 JET 模板之前，必须由 JET 构建器处理，生成 Java 源文件。此 Java 源文件必须先编译为 Java 类，然后才能执行。

JET 生成器的输出通常产生一个文件。脚本片段中的 Java 表达式没有任何限制，因此 JET 生成器可以包含比经典模板代码生成器更强大的逻辑。

以下代码片段显示了一个简单的 JET 文件：

Java

```
<%@ jet package="xyz.jet.generated" class="TheNumbersGame" %>
<% for( int i = 1; i <= 10; i++ ) { %>
This is round <%=Integer.toString( i )%>.
<% } %>
```

#### 7.4.3. 独立 JET 编译器 (Standalone JET compiler)

如上所述，JET 模板在使用前必须先生成 Java 源文件。为此，EB tresos Studio 提供了一个独立的 JET 编译器应用程序。您可以通过位于 EB tresos Studio 安装目录 `bin` 文件夹中的 `compile_jet.bat` 文件运行它。

您可以指定多个以空格分隔的 JET 模板文件作为该命令的参数。模板文件可以指定为绝对路径，也可以相对于当前执行目录（通常是 `bin` 目录）。

使用可选参数 `-o` 可以定义生成的 Java 文件的输出目录。如果未定义输出目录，则文件将生成到当前执行目录。

请注意，生成的 Java 文件由每个 JET 模板内的 `jet` 指令描述。应用程序会遵守 Java 类的包要求，并在输出目录下创建适当的目录结构。

`compile_jet -o C:\work\generated ..\src\templates\MyJetFile.jet`

#### 7.4.4. C 数据结构生成器 (C Data Structures Generator - CDS)

C 数据结构 (CDS) 生成器是一个全新的代码生成框架。它提供了将 Java 对象生成为 C 语言的类型和变量定义的功能。

CDS 生成器主要用于将配置值生成为模块运行时代码所需的 C 结构体 (C-structs)。通过将配置值与逻辑分离，可以在编译运行时代码后替换配置值。因此，此功能旨在用于 链接时 (link-time) 和 构建后 (post-build) 配置。

支持以下功能：

- 基本类型、指针、结构体和数组
    
- Typedefs
    
- 内置和自定义类型的变量初始化
    
- 空指针和函数指针支持
    
- 编译器抽象 (Compiler abstraction)
    
- 内存抽象 (Memory abstraction)
    
- 每个变量和成员的注释
    
- Volatile 修饰符
    
- 结构体中的条件成员
    

CDS 生成器包含表示 C 语言的基本类型、结构体、指针和数组的 Java 类。这些类可以直接用于生成基本变量，也可以被子类化以创建由 typedef 定义的自定义类型。

输出主要由所谓的后端 (backends) 控制。目前 EB tresos Studio 提供的唯一后端是编写纯 C 代码的 `CBackend`。可以通过提供各种后端实现（例如二进制后端）来扩展生成器。

#### 7.4.5. Apache Ant 支持 (Apache Ant support)

NG 生成器 API 的主要目标之一是集成流行的构建工具 **Apache Ant**。实际上，NG 生成器 API 总是需要一个 Ant 构建文件来执行。

如上所述，NG 生成器 API 使用现有的生成器扩展点。因此，注册的生成器类必须始终是 dreisoft.tresos.generator.ng.api.NGGenerator。

构建文件通过生成器扩展点处的 NGGenerator 类的嵌套 parameter 标签指定。

XML

```
<extension point="dreisoft.tresos.generator.api.plugin.generator"
           id="NGGeneratorAPITest_TS_genreator_id"
           name="NGGeneratorAPITest_TS Generator">
    <generator id="NGGeneratorAPITestGenerator"
               moduleId="NGGeneratorAPITest_TS"
               class="dreisoft.tresos.generator.ng.api.NGGenerator">
        <parameter name="buildfile" value="resources/generator_build.xml" />
    </generator>
</extension>
```

EB tresos Studio 为每种类型的生成器提供了 Ant 任务 (Tasks)。结合标准的 Ant 任务，可以创建强大的构建脚本。以下列表简要概述了提供的任务：

|**NG Generator Ant 任务**|**描述**|
|---|---|
|**ng.property**|允许通过查询 DataModel 设置 Ant 属性，例如：<br><br>  <br><br>`<ng.property name="propertyName" dctxt="variableName" xpath="XPath expression" override="false" > </ng.property>`|
|**ng.setgeneratorvar**|允许从 `build.xml` 中设置上下文变量。有关预定义变量，请参阅 Java 类 `dreisoft.tresos.generator.api.generator.CodeGeneratorContext`。例如：<br><br>  <br><br>`<ng.setgeneratorvar name="propertyName" dctxt="variableName" xpath="XPath expression" override="true" > </ng.setgeneratorvar>`|
|**ng.getgeneratorvar**|允许获取上下文变量并将其设置为 Ant 属性。有关预定义变量，请参阅 Java 类 `dreisoft.tresos.generator.api.generator.CodeGeneratorContext`。例如：<br><br>  <br><br>`<ng.getgeneratorvar name="variableName" property="propertyName" override="true" > </ng.getgeneratorvar>`|
|**ng.tmplgen**|运行**基于模板**的代码生成器，例如：<br><br>  <br><br>`<ng.tmplgen template="templates/CanIf_Cfg.h" file="CanIf_Cfg.h" dctxt="variableName" failonerror="false" needCodeTags="true" >`<br><br>  <br><br>`<include path="generate" />`<br><br>  <br><br>`<variable name="var1" value="foo" />`<br><br>  <br><br>`<variable name="var2" value="bar" />`<br><br>  <br><br>`</ng.tmplgen>`|
|**ng.extgen**|运行**外部**代码生成器。|
|**ng.jetgen**|运行一个已经编译为 Java 类的 JET 模板。|
|**ng.jetgen.src**|编译并运行以源代码形式交付的 JET 模板。|
|**ng.javagen**|运行一个 Java 生成器（必须实现 `IJavaGenTemplate` 接口）。|
|**ng.javagen.src**|编译并运行以源代码形式交付的 Java 生成器。|
|**ng.cdsgen**|运行 **CDS** (C Data Structure) 生成器。|
|**ng.format**|格式化 C/C++ 源文件（美化打印）。|

#### 7.4.6. 源码交付 (Source delivery)

如上所示，任务 `ng.javagen.src` 和 `ng.jetgen.src` 允许以源代码形式交付生成器，而不是已经编译为类。对于 Java 生成器，它是实现接口的 Java 源文件；对于 JET 生成器，它是 JET 模板。这两个任务都会在执行之前先编译指定的源文件。

---

### 7.5. EPC 文件生成器 API (EPC File Generator API)

#### 7.5.1. 目的 (Purpose)

EPC 文件生成器对所有使用**外部生成器**的开发人员非常有用。要调用外部生成器，通常需要 `.epc` 文件。EB tresos Studio 使用 `.xdm` 文件存储配置。为了能够结合 EB tresos Studio 使用外部生成器，提供了一个额外的生成器：EPC 文件生成器。

#### 7.5.2. 生成 EPC 文件 (Generating EPC files)

EPC 文件生成器易于使用：

1. 在提供外部生成器的所有模块的生成器扩展点中使用 EPC 文件生成器。
    
2. 从 GUI 或命令行（基于项目模式或旧模式）以 `generate` 模式运行生成器，以在输出目录中创建所需的 `.epc` 文件。
    

**plugin.xml 中的示例：**

XML

```
<extension point="dreisoft.tresos.launcher2.plugin.generator"
           id="EPCGenerator" name="EPC Generator">
    <generator moduleId="Lin_TS_T17D12M1I1R0"
               id="Lin_TS_T17D12M1I1R0GeneratorId"
               step="pre"
               class="dreisoft.tresos.autosar2.generator.EPCFileGenerator">
        <parameter name="cfgFilePath" value="output"/>
        <parameter name="generateAllModules" value="false"/>
        <parameter name="contentType" value="asc:2.1"/>
    </generator>
</extension>
```

**可用参数：**

|**参数**|**描述**|
|---|---|
|**cfgFilePath**|包含创建的 `.epc` 文件的路径（相对于输出目录）。|
|**generateAllModules**|(Boolean) 指定是否导出项目中的所有模块配置。默认为 "true"。|
|**generateModuleTypes**|指定要导出的模块类型列表（逗号分隔）。仅当 `generateAllModules` 为 "false" 时使用。|
|**generateIntoOneFile**|(Boolean) 指定是否将生成的模块配置存储在一个单独的文件中，还是每个模块配置存储在单独的 `<Module-Type>.epc` 文件中。默认为 "false"。|
|**contentType**|指定生成文件的内容类型（例如 `asc:2.0`）。|
|**allVariants**|(Boolean) 指定是否导出所有变体（包括变体信息）。默认为 `false`。如果设置为 `true` 且项目有当前选定的 Selectable 变体，则导出包含所有变体和变体点信息的完整配置。|