这是文档 **第 147-151 页** 的翻译内容。

这一部分主要讲解了如何在 XDM 文件中添加 **GUI 注释 (GUI annotation)**，以定制通用配置编辑器（Generic Configuration Editor）的布局和显示效果。内容涵盖了编辑器布局、模块级 GUI 配置，以及布尔类型参数的详细 GUI 属性设置。

---

### 6.2. 如何在 XDM 文件中添加 GUI 注释 (How to add GUI annotation in the XDM file)

#### 6.2.1. 目的 (Purpose)

DataModel 以及 XDM 格式支持在参数定义中添加 GUI 注释，以便更精细地控制配置在通用配置编辑器中的呈现方式。本章介绍了所有这些结构，并描述了如何在 XDM 中制定它们。

#### 6.2.2. 通用配置编辑器布局 (Generic Configuration Editor Layout)

本章详细介绍了配置模型如何在 GUI 中布局。它假设 AUTOSAR 参数定义已经构成了配置的基础。通用配置编辑器读取参数定义并创建相应的 GUI。

通用配置编辑器由两部分组成：

1. **编辑器本身**
2. **节点大纲 (Node Outline)**

编辑器显示页面，其中一次只有一个页面可见。通用配置器为 `MODULE-DEF` 元素创建一个页面，并为属于列表一部分的每个容器（`UPPER-MULTIPLICITY` 或 `LOWER_MULTIPLICITY != 1`）创建一个页面。

页面有一个标题和一个允许编辑名称（底层容器的 `SHORT-NAME`）的条目。如果页面代表模块定义，则名称不可编辑。
![[Pasted image 20260105171248.png]]
*(图 6.8. 页面顶部)*

页面包含用于该页面所代表容器下的所有配置参数、子容器和选择的编辑元素。

页面内容被分组到**选项卡 (Tabs)** 中。

* 如果存在 `UPPER-MULTIPLICITY` 或 `LOWER_MULTIPLICITY != 1` 的参数（在这种情况下，参数、容器或选择在 DataModel 中由列表表示），则会创建一个 **General**（常规）选项卡。
* 所有列表元素（`UPPER-MULTIPLICITY` 或 `LOWER_MULTIPLICITY != 1`）以及实例引用都存储在单独的页面上，该页面以元素的名称标记。
![[Pasted image 20260105171423.png]]
*(图 6.9. 编辑器内的选项卡)*

**节点大纲 (Node Outline)**

节点大纲显示当前所选模块配置的树状视图。树的根节点是模块配置本身。树的子节点是配置的容器。

选择节点大纲中的元素会在编辑器中打开相应的页面。
![[Pasted image 20260105171550.png]]

*(图 6.10. 节点大纲)*
这是文档 **第 150-160 页** 的翻译内容。

这一部分详细介绍了如何在 XDM 文件中进行 **GUI 注释 (GUI annotation)**，以定制配置编辑器的外观和行为。内容涵盖了模块级 GUI 配置，以及布尔值、整数/浮点/字符串/枚举/引用和容器等具体 GUI 元素的详细属性设置（如可见性、描述、只读状态、布局等）。

---

### 6.2.3. 模块 GUI 配置 (Module GUI configuration)

有一些参数==可以改变整个模块的 GUI 表示==。因此，这些参数存储在模块的 ==`plugin.xml` 文件中。==

```xml
<extension point="dreisoft.tresos.launcher2.plugin.configuration" id="ConfigId" name="Configuration">
  <editor id="EditorId">
    <class class="dreisoft.tresos.launcher2.editor.GenericConfigEditor">
      <parameter name="schema" value="ASPath:/TS_T17D9M2I0R0/EcuC"/>
      <parameter name="noLinks" value="false"/>
      <parameter name="groupLinks" value="false"/>
      <parameter name="groupContainers" value="true"/>
      <parameter name="groupTables" value="true"/>
      <parameter name="optionalGeneralTab" value="true"/>
    </class>
  </editor>
</configuration>

```

| 参数 | 默认值 | 描述 |
| --- | --- | --- |
| **noTabs** | `false` | 如果设置为 `true`，表格将不会放置在自己的选项卡上。 |
| **noLinks** | `false` | 不创建向前和向后的超链接。对于未显示在其封闭节点选项卡上的每个元素（例如，使用了 TAB 属性或对于表格），会在其兄弟元素之间显示一个指向该元素显示选项卡的超链接。在该元素显示的选项卡上，会创建另一个指回的超链接。 |
| **groupLinks** | `false` | 将所有超链接元素分组在所有配置参数之后，而不是在 schema 中元素出现的位置（兄弟元素之间）创建超链接。 |
| **groupContainers** | `true` | 将所有容器分组在变量和引用之后。通常，每个元素都显示在 schema 中元素出现的位置（兄弟元素之间）。将此选项设置为 `true` 会在变量、引用和表格之后渲染容器。 |
| **groupTables** | `true` | 将所有表格分组在变量和引用之后。通常，每个元素都显示在 schema 中元素出现的位置（兄弟元素之间）。将此选项设置为 `true` 会在变量和引用之后渲染表格。 |
| **optionalGeneralTab** | `true` | 如果 General 选项卡上只放置了链接，则省略该选项卡。 |

### 6.2.4. GUI 元素 (GUI Elements)

本章描述了参数定义中的各种元素及其在 GUI 中的显示方式。可以通过在 XDM 文件中设置相应的属性来定制 GUI 中元素的视觉效果。本章将概述所有这些属性。

#### 6.2.4.1. 属性 (Attributes)

有几个属性可以添加到 schema 文件中以丰富 GUI。

---

*(图 6.11. 属性)*

> **注意：**
> 请注意，对于所有数据属性（标签 `<a:da/>`），可以使用自动属性代替固定值。
> ```xml
> <a:da name="<attribute_name>" type="XPath" expr="../Integer2 &lt; 20"/>
> 
> ```
> 
> 
> 对于 schema 属性（标签 `<a:a/>`），这是不可能的，因此例如 `LABEL` 不能使用自动属性。

#### 6.2.4.2. 布尔值 (Boolean values)

Schema-XDM 中定义的每个布尔值将在编辑器中表示为一个复选框 (Check box)。

```xml
<v:var name="Boolean1" type="BOOLEAN"/>

```

---

*(图 6.12. 复选框)*

| 属性 | 描述 |
| --- | --- |
| **TOOLTIP** | 用于向复选框添加工具提示。<br>

<br>`<a:da name="TOOLTIP" value="Example tooltip"/>`<br>

<br>*(图 6.13. 复选框工具提示)* |
| **VISIBLE** | 使用此属性，您可以在编辑器中隐藏该复选框。<br>

<br>`<a:a name="VISIBLE" value="false"/>` |
| **DESC** | 用于为布尔值添加描述。如果选中了复选框，该描述对用户在“Description”（描述）视图中可见。如下例所示，可以是单行、多行或包含指向其他配置元素链接的 HTML 描述。点击链接将在编辑器中显示目标元素。<br>

<br>

<br>`<a:a name="DESC" value="The parameter depicts..."/>`<br>

<br>

<br>`<a:a name="DESC"><a:v> Example description taking multiple lines </a:v></a:a>`<br>

<br>

<br>`<a:a name="DESC"><a:v><![CDATA[ <html>...</html> ]]></a:v></a:a>`<br>

<br>

<br>*(图 6.14. 复选框描述)*<br>

<br>

<br>要创建链接，必须在该元素的 XPath 前加上 `path:` 前缀，并将其用作 `href` 标签的值。<br>

<br>**注意：** 要获取配置元素的路径，只需选中它，其 XPath 就会显示在 Information View（信息视图）中。 |
| **EDITABLE** | 用于允许用户编辑元素或不允许。如果此属性值设置为 `false`，复选框将显示为灰色（不可用）。<br>

<br>`<a:da name="EDITABLE" value="false"/>`<br>

<br>*(图 6.15. 不可编辑的复选框)* |
| **READONLY** | 用于允许用户编辑元素或不允许。如果此属性值设置为 `true`，复选框将显示为灰色，并且值重置为默认值。如果通过其他方式（例如，直接编辑内部 .xdm 文件）更改了值，则会显示警告。<br>

<br>`<a:da name="READONLY" value="false"/>`<br>

<br>*(图 6.16. 只读复选框)* |
| **LABEL** | 用于更改复选框的标签。<br>

<br>`<a:a name="LABEL" value="Example label"/>`<br>

<br>*(图 6.17. 复选框标签)* |
| **TAB** | 通过此属性，可以将元素放置在与其默认选项卡不同的选项卡上。<br>

<br>`<a:a name="TAB" value="BooleanStuff"/>`<br>

<br>*(图 6.18. 复选框 TAB)* |

#### 6.2.4.3. 整数值、浮点值、字符串值、枚举和引用 (Integer Values, Float Values, String Values, Enumerations and References)

枚举和引用由组合框 (combo box) 表示。整数值、浮点值和字符串值在编辑器中由文本字段 (text field) 表示。

```xml
<v:var name="Integer1" type="INTEGER">
<v:var name="Float1" type="FLOAT">
<v:var name="String1" type="STRING">
<v:ref name="Reference1" type="REFERENCE">
<v:var name="Enumeration1" type="ENUMERATION">

```

---

*(图 6.19. 字段元素)*

| 属性 | 描述 |
| --- | --- |
| **TOOLTIP** | 用于向字段添加工具提示。<br>

<br>`<a:da name="TOOLTIP" value="Example tooltip"/>`<br>

<br>*(图 6.20. 参数的工具提示)* |
| **VISIBLE** | 使用此属性，您可以在编辑器中隐藏该字段。<br>

<br>`<a:a name="VISIBLE" value="false"/>` |
| **DESC** | 用于为配置元素添加描述。如果选中了该字段，该描述对用户在 Description View（描述视图）中可见。有关如何创建描述的详细信息，请参阅 6.2.4.2 节“布尔值”。如那里所示，您可以创建包含指向其他配置元素链接的单行、多行或 HTML 描述。<br>

<br>*(图 6.21. 参数描述)*<br>

<br>要创建链接，必须在该元素的 XPath 前加上 `path:` 前缀，并将其用作 `href` 标签的值。<br>

<br>**注意：** 要获取配置元素的路径，只需选中它，其 XPath 就会显示在 Information View（信息视图）中。 |
| **EDITABLE** | 用于允许用户编辑元素或不允许。如果此属性值设置为 `false`，字段将显示为灰色。<br>

<br>`<a:da name="EDITABLE" value="false"/>`<br>

<br>*(图 6.22. 不可编辑的参数)* |
| **READONLY** | 用于允许用户编辑元素或不允许。如果此属性值设置为 `true`，字段将显示为灰色并重置为其默认值。如果通过其他方式（例如，直接编辑内部 .xdm 文件）更改了值，则会显示警告。<br>

<br>`<a:da name="READONLY" value="true"/>`<br>

<br>*(图 6.23. 只读参数)* |
| **LABEL** | 用于更改字段的标签。<br>

<br>`<a:a name="LABEL" value="Example label"/>`<br>

<br>*(图 6.24. 参数标签)* |
| **WIDTH** | 文本字段或组合框的宽度（以字符为单位）。<br>

<br>`<a:a name="WIDTH" value="10"/>`<br>

<br>*(图 6.25. 参数宽度)* |
| **TAB** | 通过此属性，可以将元素放置在与其默认选项卡不同的选项卡上。<br>

<br>`<a:a name="TAB" value="Stuff"/>`<br>

<br>*(图 6.26. Int Float TAB)* |
| **DEFAULT_RADIX** | 设置 INTEGER 节点 GUI 元素的初始数字表示形式。`DEFAULT_RADIX` 属性的有效值为：`DEC`（十进制，默认）、`HEX`（十六进制）、`OCT`（八进制）和 `BIN`（二进制）。<br>

<br>`<a:a name="DEFAULT_RADIX" value="HEX" />`<br>

<br>*(图 6.27. INTEGER 节点的 DEFAULT_RADIX 属性)* |

#### 6.2.4.4. 容器 (Container)

容器在编辑器中创建一个新部分 (section)。您可以编辑容器的 `SHORT-NAME`。容器应始终包含其他配置元素。

```xml
<v:ctr name="Container" type="IDENTIFIABLE">

```

---

*(图 6.28. 容器配置元素)*

| 容器属性 | 描述 |
| --- | --- |
| **VISIBLE** | 使用此属性，您可以在编辑器中隐藏该容器。<br>

<br>`<a:a name="VISIBLE" value="false"/>` |
| **DESC** | 用于为配置元素添加描述。如果选中了复选框（此处指容器），该描述对用户在 Description View（描述视图）中可见。有关如何创建描述的详细信息，请参阅 6.2.4.2 节“布尔值”。如那里所示，您可以创建包含指向其他配置元素链接的单行、多行或 HTML 描述。<br>

<br>*(图 6.29. 容器描述)*<br>

<br>要创建链接，必须在该元素的 XPath 前加上 `path:` 前缀，并将其用作 `href` 标签的值。<br>

<br>**注意：** 要获取配置元素的路径，只需选中它，其 XPath 就会显示在 Information View（信息视图）中。 |
| **LABEL** | 用于更改容器的标签。<br>

<br>`<a:a name="LABEL" value="Example label"/>`<br>

<br>*(图 6.30. 容器标签)* |
| **FRAME** | 用于更改配置元素周围的边框。可能的值有：<br>

<br>► **NONE**：无边框。这是选择项 (choices) 子容器的默认值（参见 6.2.4.5 节“Choices”）。<br>

<br>`<a:da name="FRAME" value="NONE"/>`<br>

<br>*(图 6.31. FRAME 值为 NONE)*<br>

<br>**注意：** 此时您无法编辑容器的 `SHORT-NAME`。<br>

<br>► **LINE**：带标题的线性边框。<br>

<br>`<a:da name="FRAME" value="LINE"/>`<br>

<br>*(图 6.32. FRAME 值为 LINE)*<br>

<br>► **TITLE**（默认）：带标题的线性边框，点击标题可以展开和折叠。<br>

<br>`<a:da name="FRAME" value="TITLE"/>`<br>

<br>*(图 6.33. FRAME 值为 TITLE)* |

---

**（第 150-160 页翻译结束）**

接下来的内容（第 160 页起）将继续介绍容器的布局属性（`LAYOUT`），以及 **6.2.4.5 Choices (选择)** 和 **6.2.4.6 Lists (列表)** 的详细 GUI 配置方法。

**是否继续翻译第 161-170 页？**

这是文档 **第 150-160 页** 的翻译内容。

这一部分详细介绍了如何在 XDM 文件中进行 **GUI 注释 (GUI annotation)**，以定制配置编辑器的外观和行为。内容涵盖了模块级 GUI 配置，以及布尔值、整数/浮点/字符串/枚举/引用和容器等具体 GUI 元素的详细属性设置（如可见性、描述、只读状态、布局等）。

---

### 6.2.3. 模块 GUI 配置 (Module GUI configuration)

有一些参数可以改变整个模块的 GUI 表示。因此，这些参数存储在模块的 `plugin.xml` 文件中。

XML

```
<extension point="dreisoft.tresos.launcher2.plugin.configuration" id="ConfigId" name="Configuration">
  <editor id="EditorId">
    <class class="dreisoft.tresos.launcher2.editor.GenericConfigEditor">
      <parameter name="schema" value="ASPath:/TS_T17D9M2I0R0/EcuC"/>
      <parameter name="noLinks" value="false"/>
      <parameter name="groupLinks" value="false"/>
      <parameter name="groupContainers" value="true"/>
      <parameter name="groupTables" value="true"/>
      <parameter name="optionalGeneralTab" value="true"/>
    </class>
  </editor>
</configuration>
```

|**参数**|**默认值**|**描述**|
|---|---|---|
|**noTabs**|`false`|如果设置为 `true`，表格将不会放置在自己的选项卡上。|
|**noLinks**|`false`|不创建向前和向后的超链接。对于未显示在其封闭节点选项卡上的每个元素（例如，使用了 TAB 属性或对于表格），会在其兄弟元素之间显示一个指向该元素显示选项卡的超链接。在该元素显示的选项卡上，会创建另一个指回的超链接。|
|**groupLinks**|`false`|将所有超链接元素分组在所有配置参数之后，而不是在 schema 中元素出现的位置（兄弟元素之间）创建超链接。|
|**groupContainers**|`true`|将所有容器分组在变量和引用之后。通常，每个元素都显示在 schema 中元素出现的位置（兄弟元素之间）。将此选项设置为 `true` 会在变量、引用和表格之后渲染容器。|
|**groupTables**|`true`|将所有表格分组在变量和引用之后。通常，每个元素都显示在 schema 中元素出现的位置（兄弟元素之间）。将此选项设置为 `true` 会在变量和引用之后渲染表格。|
|**optionalGeneralTab**|`true`|如果 General 选项卡上只放置了链接，则省略该选项卡。|

### 6.2.4. GUI 元素 (GUI Elements)

本章描述了参数定义中的各种元素及其在 GUI 中的显示方式。可以通过在 XDM 文件中设置相应的属性来定制 GUI 中元素的视觉效果。本章将概述所有这些属性。

#### 6.2.4.1. 属性 (Attributes)

有几个属性可以添加到 schema 文件中以丰富 GUI。

---

_(图 6.11. 属性)_

> 注意：
> 
> 请注意，对于所有数据属性（标签 <a:da/>），可以使用自动属性代替固定值。
> 
> XML
> 
> ```
> <a:da name="<attribute_name>" type="XPath" expr="../Integer2 &lt; 20"/>
> ```
> 
> 对于 schema 属性（标签 `<a:a/>`），这是不可能的，因此例如 `LABEL` 不能使用自动属性。

#### 6.2.4.2. 布尔值 (Boolean values)

Schema-XDM 中定义的每个布尔值将在编辑器中表示为一个复选框 (Check box)。

XML

```
<v:var name="Boolean1" type="BOOLEAN"/>
```

---

_(图 6.12. 复选框)_

|**属性**|**描述**|
|---|---|
|**TOOLTIP**|用于向复选框添加工具提示。<br><br>  <br><br>`<a:da name="TOOLTIP" value="Example tooltip"/>`<br><br>  <br><br>_(图 6.13. 复选框工具提示)_|
|**VISIBLE**|使用此属性，您可以在编辑器中隐藏该复选框。<br><br>  <br><br>`<a:a name="VISIBLE" value="false"/>`|
|**DESC**|用于为布尔值添加描述。如果选中了复选框，该描述对用户在“Description”（描述）视图中可见。如下例所示，可以是单行、多行或包含指向其他配置元素链接的 HTML 描述。点击链接将在编辑器中显示目标元素。<br><br>  <br>  <br><br>`<a:a name="DESC" value="The parameter depicts..."/>`<br><br>  <br>  <br><br>`<a:a name="DESC"><a:v> Example description taking multiple lines </a:v></a:a>`<br><br>  <br>  <br><br>`<a:a name="DESC"><a:v><![CDATA[ <html>...</html> ]]></a:v></a:a>`<br><br>  <br>  <br><br>_(图 6.14. 复选框描述)_<br><br>  <br>  <br><br>要创建链接，必须在该元素的 XPath 前加上 `path:` 前缀，并将其用作 `href` 标签的值。<br><br>  <br><br>**注意：** 要获取配置元素的路径，只需选中它，其 XPath 就会显示在 Information View（信息视图）中。|
|**EDITABLE**|用于允许用户编辑元素或不允许。如果此属性值设置为 `false`，复选框将显示为灰色（不可用）。<br><br>  <br><br>`<a:da name="EDITABLE" value="false"/>`<br><br>  <br><br>_(图 6.15. 不可编辑的复选框)_|
|**READONLY**|用于允许用户编辑元素或不允许。如果此属性值设置为 `true`，复选框将显示为灰色，并且值重置为默认值。如果通过其他方式（例如，直接编辑内部 .xdm 文件）更改了值，则会显示警告。<br><br>  <br><br>`<a:da name="READONLY" value="false"/>`<br><br>  <br><br>_(图 6.16. 只读复选框)_|
|**LABEL**|用于更改复选框的标签。<br><br>  <br><br>`<a:a name="LABEL" value="Example label"/>`<br><br>  <br><br>_(图 6.17. 复选框标签)_|
|**TAB**|通过此属性，可以将元素放置在与其默认选项卡不同的选项卡上。<br><br>  <br><br>`<a:a name="TAB" value="BooleanStuff"/>`<br><br>  <br><br>_(图 6.18. 复选框 TAB)_|

#### 6.2.4.3. 整数值、浮点值、字符串值、枚举和引用 (Integer Values, Float Values, String Values, Enumerations and References)

枚举和引用由组合框 (combo box) 表示。整数值、浮点值和字符串值在编辑器中由文本字段 (text field) 表示。

XML

```
<v:var name="Integer1" type="INTEGER">
<v:var name="Float1" type="FLOAT">
<v:var name="String1" type="STRING">
<v:ref name="Reference1" type="REFERENCE">
<v:var name="Enumeration1" type="ENUMERATION">
```

---

_(图 6.19. 字段元素)_

|**属性**|**描述**|
|---|---|
|**TOOLTIP**|用于向字段添加工具提示。<br><br>  <br><br>`<a:da name="TOOLTIP" value="Example tooltip"/>`<br><br>  <br><br>_(图 6.20. 参数的工具提示)_|
|**VISIBLE**|使用此属性，您可以在编辑器中隐藏该字段。<br><br>  <br><br>`<a:a name="VISIBLE" value="false"/>`|
|**DESC**|用于为配置元素添加描述。如果选中了该字段，该描述对用户在 Description View（描述视图）中可见。有关如何创建描述的详细信息，请参阅 6.2.4.2 节“布尔值”。如那里所示，您可以创建包含指向其他配置元素链接的单行、多行或 HTML 描述。<br><br>  <br><br>_(图 6.21. 参数描述)_<br><br>  <br><br>要创建链接，必须在该元素的 XPath 前加上 `path:` 前缀，并将其用作 `href` 标签的值。<br><br>  <br><br>**注意：** 要获取配置元素的路径，只需选中它，其 XPath 就会显示在 Information View（信息视图）中。|
|**EDITABLE**|用于允许用户编辑元素或不允许。如果此属性值设置为 `false`，字段将显示为灰色。<br><br>  <br><br>`<a:da name="EDITABLE" value="false"/>`<br><br>  <br><br>_(图 6.22. 不可编辑的参数)_|
|**READONLY**|用于允许用户编辑元素或不允许。如果此属性值设置为 `true`，字段将显示为灰色并重置为其默认值。如果通过其他方式（例如，直接编辑内部 .xdm 文件）更改了值，则会显示警告。<br><br>  <br><br>`<a:da name="READONLY" value="true"/>`<br><br>  <br><br>_(图 6.23. 只读参数)_|
|**LABEL**|用于更改字段的标签。<br><br>  <br><br>`<a:a name="LABEL" value="Example label"/>`<br><br>  <br><br>_(图 6.24. 参数标签)_|
|**WIDTH**|文本字段或组合框的宽度（以字符为单位）。<br><br>  <br><br>`<a:a name="WIDTH" value="10"/>`<br><br>  <br><br>_(图 6.25. 参数宽度)_|
|**TAB**|通过此属性，可以将元素放置在与其默认选项卡不同的选项卡上。<br><br>  <br><br>`<a:a name="TAB" value="Stuff"/>`<br><br>  <br><br>_(图 6.26. Int Float TAB)_|
|**DEFAULT_RADIX**|设置 INTEGER 节点 GUI 元素的初始数字表示形式。`DEFAULT_RADIX` 属性的有效值为：`DEC`（十进制，默认）、`HEX`（十六进制）、`OCT`（八进制）和 `BIN`（二进制）。<br><br>  <br><br>`<a:a name="DEFAULT_RADIX" value="HEX" />`<br><br>  <br><br>_(图 6.27. INTEGER 节点的 DEFAULT_RADIX 属性)_|

#### 6.2.4.4. 容器 (Container)

容器在编辑器中创建一个新部分 (section)。您可以编辑容器的 `SHORT-NAME`。容器应始终包含其他配置元素。

XML

```
<v:ctr name="Container" type="IDENTIFIABLE">
```

---

_(图 6.28. 容器配置元素)_

| **容器属性**    | **描述**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **VISIBLE** | 使用此属性，您可以在编辑器中隐藏该容器。<br><br>  <br><br>`<a:a name="VISIBLE" value="false"/>`                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **DESC**    | 用于为配置元素添加描述。如果选中了复选框（此处指容器），该描述对用户在 Description View（描述视图）中可见。有关如何创建描述的详细信息，请参阅 6.2.4.2 节“布尔值”。如那里所示，您可以创建包含指向其他配置元素链接的单行、多行或 HTML 描述。<br><br>  <br><br>_(图 6.29. 容器描述)_<br><br>  <br><br>要创建链接，必须在该元素的 XPath 前加上 `path:` 前缀，并将其用作 `href` 标签的值。<br><br>  <br><br>**注意：** 要获取配置元素的路径，只需选中它，其 XPath 就会显示在 Information View（信息视图）中。                                                                                                                                                                                                                      |
| **LABEL**   | 用于更改容器的标签。<br><br>  <br><br>`<a:a name="LABEL" value="Example label"/>`<br><br>  <br><br>_(图 6.30. 容器标签)_                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **FRAME**   | 用于更改配置元素周围的边框。可能的值有：<br><br>  <br><br>► **NONE**：无边框。这是选择项 (choices) 子容器的默认值（参见 6.2.4.5 节“Choices”）。<br><br>  <br><br>`<a:da name="FRAME" value="NONE"/>`<br><br>  <br><br>_(图 6.31. FRAME 值为 NONE)_<br><br>  <br><br>**注意：** 此时您无法编辑容器的 `SHORT-NAME`。<br><br>  <br><br>► **LINE**：带标题的线性边框。<br><br>  <br><br>`<a:da name="FRAME" value="LINE"/>`<br><br>  <br><br>_(图 6.32. FRAME 值为 LINE)_<br><br>  <br><br>► **TITLE**（默认）：带标题的线性边框，点击标题可以展开和折叠。<br><br>  <br><br>`<a:da name="FRAME" value="TITLE"/>`<br><br>  <br><br>_(图 6.33. FRAME 值为 TITLE)_ |

---

**（第 150-160 页翻译结束）**

接下来的内容（第 160 页起）将继续介绍容器的布局属性（`LAYOUT`），以及 **6.2.4.5 Choices (选择)** 和 **6.2.4.6 Lists (列表)** 的详细 GUI 配置方法。

**161-170 页？**这是文档 **第 161-170 页** 的翻译内容。

这一部分继续介绍了 **容器 (Container)** 的剩余 GUI 属性（布局、标题、标签页），然后详细讲解了 **选择 (Choices)** 和 **列表 (Lists)** 这两种复杂配置元素的 GUI 定制方法，包括它们特有的属性（如列表的列定义、选择的边框样式等）。

---

### 6.2.4.4. 容器 (Container) (续)

| 容器属性 | 描述 |
| --- | --- |
| **LAYOUT** | 用于更改配置元素的布局。可能的值有：<br>

<br>► **HORIZONTAL**：将容器内的元素水平排列。<br>

<br>► **VERTICAL** (默认)：将容器内的元素垂直排列。<br>

<br>`<a:a name="LAYOUT" value="HORIZONTAL"/>`<br>

<br>*(图 6.34. LAYOUT 值为 HORIZONTAL)*<br>

<br>*(图 6.35. LAYOUT 值为 VERTICAL)* |
| **TITLE** | 用于设置页面的标题。您只能更改那些会创建新页面的容器的标题。<br>

<br>`<a:da name="TITLE" value="Example title"/>`<br>

<br>*(图 6.36. 容器的标题)* |
| **TAB** | 通过此属性，可以将元素放置在与其默认选项卡不同的选项卡上。<br>

<br>`<a:a name="TAB" value="ContainerStuff"/>`<br>

<br>*(图 6.37. 容器 TAB)* |

---

### 6.2.4.5. Choices (选择)

Choice（选择）在编辑器中创建一个新部分 (section)。您可以编辑 Choice 的 `SHORT-NAME`。
Choice 元素本身由一个下拉列表框组成，后面跟随可选择的子容器。这些子容器显示在单独的选项卡中。当您更改下拉列表框的选择时，会自动选择其中一个子容器。所选子容器的选项卡标题会以粗体高亮显示。此时，该子容器包含的元素将被启用。为了检查已禁用选项卡的内容，您仍然可以切换到它们。

```xml
<v:chc name="Choice">

```

*(图 6.38. Choice 配置元素)*

| Choice 属性 | 描述 |
| --- | --- |
| **TOOLTIP** | 用于向 Choice 添加工具提示。<br>

<br>`<a:da name="TOOLTIP" value="Example Tooltip"/>`<br>

<br>*(图 6.39. Choice 工具提示)* |
| **VISIBLE** | 使用此属性，您可以在编辑器中隐藏该 Choice。<br>

<br>`<a:a name="VISIBLE" value="false"/>` |
| **DESC** | 用于为配置元素添加描述。如果选中了该 Choice，该描述对用户在“Description”（描述）视图中可见。参见 6.2.4.2 节“布尔值”了解如何创建描述的详细信息。如那里所示，您可以创建包含指向其他配置元素链接的单行、多行或 HTML 描述。<br>

<br>*(图 6.40. Choice 的描述)*<br>

<br>要创建链接，必须在该元素的 XPath 前加上 `path:` 前缀，并将其用作 `href` 标签的值。<br>

<br>**注意：** 要获取配置元素的路径，只需选中它，其 XPath 就会显示在 Information View（信息视图）中。 |
| **EDITABLE** | 用于允许用户编辑元素或不允许。如果此属性值设置为 `false`，Choice 将显示为灰色（不可用）。<br>

<br>`<a:da name="EDITABLE" value="false"/>`<br>

<br>*(图 6.41. 不可编辑的 Choice)* |
| **READONLY** | 用于允许用户编辑元素或不允许。如果此属性值设置为 `true`，Choice 将显示为灰色，并且值重置为默认值。如果通过其他方式（例如，直接编辑内部 .xdm 文件）更改了值，则会显示警告。<br>

<br>`<a:da name="READONLY" value="true"/>`<br>

<br>*(图 6.42. 只读 Choice)* |
| **LABEL** | 用于更改字段的标签。<br>

<br>`<a:a name="LABEL" value="Example label"/>`<br>

<br>*(图 6.43. Choice 标签)* |
| **WIDTH** | Choice 的宽度（以字符为单位）。<br>

<br>`<a:a name="WIDTH" value="20"/>`<br>

<br>*(图 6.44. Choice 宽度)* |
| **TAB** | 通过此属性，可以将元素放置在与其默认选项卡不同的选项卡上。<br>

<br>`<a:a name="TAB" value="ChoiceStuff"/>`<br>

<br>*(图 6.45. Choice TAB)* |
| **FRAME** | 用于更改配置元素周围的边框。可能的值有：<br>

<br>► **NONE**：无边框。<br>

<br>`<a:da name="FRAME" value="NONE"/>`<br>

<br>*(图 6.46. FRAME 值为 NONE)*<br>

<br>**注意：** 此时您无法编辑 Choice 的 `SHORT-NAME`。<br>

<br>► **LINE** (默认)：带标题的线性边框。<br>

<br>`<a:da name="FRAME" value="LINE"/>`<br>

<br>*(图 6.47. FRAME 值为 LINE)*<br>

<br>► **TITLE**：带标题的线性边框，点击标题可以展开和折叠。<br>

<br>`<a:da name="FRAME" value="LINE"/>`<br>

<br>*(图 6.48. FRAME 值为 TITLE)* |

---

### 6.2.4.6. Lists (列表)

==每个列表在编辑器中都有自己的选项卡页面==，每个配置的值在列表中都有自己的一行。默认情况下，配置元素的索引（在列表中的位置）在列表中拥有自己的一列。

存在两种不同类型的列表：

**1. 类型为 "MAP" 的列表 (`type="MAP"`)：**

```xml
<v:lst name="TestList" type="MAP">
  <v:ctr name="ListContainer1" type="IDENTIFIABLE">
    <v:var name="ListString" type="STRING"/>
    <v:var name="ListInteger" type="INTEGER"/>
  </v:ctr>
</v:lst>

```

*(图 6.49. type="MAP" 的列表)*

**2. 类型为空的列表 (`type=""`)：**

```xml
<v:lst name="TestList2" type="">
  <v:var name="ListString2" type="STRING">
    <a:da name="DEFAULT" value="test"/>
  </v:var>
</v:lst>

```

*(图 6.50. type="" 的列表)*

| List 属性 | 描述 |
| --- | --- |
| **TOOLTIP** | 用于向配置元素添加工具提示。<br>

<br>`<a:da name="TOOLTIP" value="Example tooltip"/>`<br>

<br>*(图 6.51. 列表内的工具提示)* |
| **VISIBLE** | 使用此属性，您可以在编辑器中隐藏列表的选项卡页面。<br>

<br>`<a:a name="VISIBLE" value="false"/>` |
| **DESC** | 用于为配置元素添加描述。如果点击了列表图标，该描述对用户在 Description View（描述视图）中可见。参见 6.2.4.2 节“布尔值”了解如何创建描述的详细信息。如那里所示，您可以创建包含指向其他配置元素链接的单行、多行或 HTML 描述。<br>

<br>*(图 6.52. 列表的描述)* |
| **EDITABLE** | 用于禁用配置列表。<br>

<br>**注意：** 您不能使用编辑器选择已禁用列表的列表条目。<br>

<br>`<a:da name="EDITABLE" value="false"/>`<br>

<br>*(图 6.53. 可编辑的列表)* |
| **READONLY** | 您不能使用编辑器向已禁用的列表添加列表条目。如果尝试通过其他方式（例如，通过 `DCtxt.Any.copy(...)`）添加子项，则会报告错误。<br>

<br>`<a:da name="READONLY" value="true"/>`<br>

<br>*(图 6.54. 只读列表)* |
| **LABEL** | 用于更改列表元素的标签。<br>

<br>`<a:a name="LABEL" value="Example label"/>`<br>

<br>*(图 6.55. 列表的标签)* |
| **COLUMNS** | 如果列表包含容器或 Choice（仅适用于 `type="MAP"` 的列表），则通过 `COLUMNS` 属性定义表格的列。属性值可以通过 XPath 引用相对于列表内容器或 Choice 的参数或引用（必须满足 `UPPER-MULTIPLICITY` = `LOWER_MULTIPLICITY` == 1）。<br>

<br>`<a:a name="COLUMNS">`<br>

<br>` <a:v>ListString</a:v>`<br>

<br>` <a:v>SubContainer/ListInteger</a:v>`<br>

<br>`</a:a>`<br>

<br>*(图 6.56. 列表列)* |
| **COLUMN_TITLE** | 用于设置表格内自定义列的标题。<br>

<br>`xml<v:lst name="TestList" type="MAP"><a:a name="COLUMNS"> <a:v>ListString</a:v> <a:v>ListInteger</a:v></a:a><v:ctr name="ListContainer1" type="IDENTIFIABLE"> <v:var name="ListString" type="STRING"> <a:a name="COLUMN_TITLE" value="String title"/> <a:a name="COLUMN_TOOLTIP" value="String tooltip"/> </v:var> <v:var name="ListInteger" type="INTEGER"> <a:a name="COLUMN_TITLE" value="Integer title"/> <a:a name="COLUMN_TOOLTIP" value="Integer tooltip"/> </v:var></v:ctr></v:lst>`<br>

<br>*(图 6.57. 列标题)* |
| **COLUMN_TOOLTIP** | 用于为表格内的自定义列添加工具提示。<br>

<br>*(代码示例同上)*<br>

<br>*(图 6.58. 列工具提示)* |

---

**（第 161-170 页翻译结束）**

接下来的内容（第 171 页起）将介绍：

* **6.2.4.7. Tab assignment (选项卡分配)**：如何配置列表行数和自动分页。
* **6.3. XPath API**：XPath 在 DataModel 中的使用、概念和 API 详解。

**是否继续翻译？**
这是文档 **第 161-170 页** 的翻译内容。

这一部分继续介绍了 **容器 (Container)** 的剩余 GUI 属性（布局、标题、标签页），然后详细讲解了 **选择 (Choices)** 和 **列表 (Lists)** 这两种复杂配置元素的 GUI 定制方法，包括它们特有的属性（如列表的列定义、选择的边框样式等）。

---

### 6.2.4.4. 容器 (Container) (续)

|**容器属性**|**描述**|
|---|---|
|**LAYOUT**|用于更改配置元素的布局。可能的值有：<br><br>  <br><br>► **HORIZONTAL**：将容器内的元素水平排列。<br><br>  <br><br>► **VERTICAL** (默认)：将容器内的元素垂直排列。<br><br>  <br><br>`<a:a name="LAYOUT" value="HORIZONTAL"/>`<br><br>  <br><br>_(图 6.34. LAYOUT 值为 HORIZONTAL)_<br><br>  <br><br>_(图 6.35. LAYOUT 值为 VERTICAL)_|
|**TITLE**|用于设置页面的标题。您只能更改那些会创建新页面的容器的标题。<br><br>  <br><br>`<a:da name="TITLE" value="Example title"/>`<br><br>  <br><br>_(图 6.36. 容器的标题)_|
|**TAB**|通过此属性，可以将元素放置在与其默认选项卡不同的选项卡上。<br><br>  <br><br>`<a:a name="TAB" value="ContainerStuff"/>`<br><br>  <br><br>_(图 6.37. 容器 TAB)_|

---

### 6.2.4.5. Choices (选择)

Choice（选择）在编辑器中创建一个新部分 (section)。您可以编辑 Choice 的 SHORT-NAME。

Choice 元素本身由一个下拉列表框组成，后面跟随可选择的子容器。这些子容器显示在单独的选项卡中。当您更改下拉列表框的选择时，会自动选择其中一个子容器。所选子容器的选项卡标题会以粗体高亮显示。此时，该子容器包含的元素将被启用。为了检查已禁用选项卡的内容，您仍然可以切换到它们。

XML

```
<v:chc name="Choice">
```

_(图 6.38. Choice 配置元素)_

|**Choice 属性**|**描述**|
|---|---|
|**TOOLTIP**|用于向 Choice 添加工具提示。<br><br>  <br><br>`<a:da name="TOOLTIP" value="Example Tooltip"/>`<br><br>  <br><br>_(图 6.39. Choice 工具提示)_|
|**VISIBLE**|使用此属性，您可以在编辑器中隐藏该 Choice。<br><br>  <br><br>`<a:a name="VISIBLE" value="false"/>`|
|**DESC**|用于为配置元素添加描述。如果选中了该 Choice，该描述对用户在“Description”（描述）视图中可见。参见 6.2.4.2 节“布尔值”了解如何创建描述的详细信息。如那里所示，您可以创建包含指向其他配置元素链接的单行、多行或 HTML 描述。<br><br>  <br><br>_(图 6.40. Choice 的描述)_<br><br>  <br><br>要创建链接，必须在该元素的 XPath 前加上 `path:` 前缀，并将其用作 `href` 标签的值。<br><br>  <br><br>**注意：** 要获取配置元素的路径，只需选中它，其 XPath 就会显示在 Information View（信息视图）中。|
|**EDITABLE**|用于允许用户编辑元素或不允许。如果此属性值设置为 `false`，Choice 将显示为灰色（不可用）。<br><br>  <br><br>`<a:da name="EDITABLE" value="false"/>`<br><br>  <br><br>_(图 6.41. 不可编辑的 Choice)_|
|**READONLY**|用于允许用户编辑元素或不允许。如果此属性值设置为 `true`，Choice 将显示为灰色，并且值重置为默认值。如果通过其他方式（例如，直接编辑内部 .xdm 文件）更改了值，则会显示警告。<br><br>  <br><br>`<a:da name="READONLY" value="true"/>`<br><br>  <br><br>_(图 6.42. 只读 Choice)_|
|**LABEL**|用于更改字段的标签。<br><br>  <br><br>`<a:a name="LABEL" value="Example label"/>`<br><br>  <br><br>_(图 6.43. Choice 标签)_|
|**WIDTH**|Choice 的宽度（以字符为单位）。<br><br>  <br><br>`<a:a name="WIDTH" value="20"/>`<br><br>  <br><br>_(图 6.44. Choice 宽度)_|
|**TAB**|通过此属性，可以将元素放置在与其默认选项卡不同的选项卡上。<br><br>  <br><br>`<a:a name="TAB" value="ChoiceStuff"/>`<br><br>  <br><br>_(图 6.45. Choice TAB)_|
|**FRAME**|用于更改配置元素周围的边框。可能的值有：<br><br>  <br><br>► **NONE**：无边框。<br><br>  <br><br>`<a:da name="FRAME" value="NONE"/>`<br><br>  <br><br>_(图 6.46. FRAME 值为 NONE)_<br><br>  <br><br>**注意：** 此时您无法编辑 Choice 的 `SHORT-NAME`。<br><br>  <br><br>► **LINE** (默认)：带标题的线性边框。<br><br>  <br><br>`<a:da name="FRAME" value="LINE"/>`<br><br>  <br><br>_(图 6.47. FRAME 值为 LINE)_<br><br>  <br><br>► **TITLE**：带标题的线性边框，点击标题可以展开和折叠。<br><br>  <br><br>`<a:da name="FRAME" value="LINE"/>`<br><br>  <br><br>_(图 6.48. FRAME 值为 TITLE)_|

---

### 6.2.4.6. Lists (列表)

每个列表在编辑器中都有自己的选项卡页面，每个配置的值在列表中都有自己的一行。默认情况下，配置元素的索引（在列表中的位置）在列表中拥有自己的一列。

存在两种不同类型的列表：

**1. 类型为 "MAP" 的列表 (`type="MAP"`)：**

XML

```
<v:lst name="TestList" type="MAP">
  <v:ctr name="ListContainer1" type="IDENTIFIABLE">
    <v:var name="ListString" type="STRING"/>
    <v:var name="ListInteger" type="INTEGER"/>
  </v:ctr>
</v:lst>
```

_(图 6.49. type="MAP" 的列表)_

**2. 类型为空的列表 (`type=""`)：**

XML

```
<v:lst name="TestList2" type="">
  <v:var name="ListString2" type="STRING">
    <a:da name="DEFAULT" value="test"/>
  </v:var>
</v:lst>
```

_(图 6.50. type="" 的列表)_

|**List 属性**|**描述**|
|---|---|
|**TOOLTIP**|用于向配置元素添加工具提示。<br><br>  <br><br>`<a:da name="TOOLTIP" value="Example tooltip"/>`<br><br>  <br><br>_(图 6.51. 列表内的工具提示)_|
|**VISIBLE**|使用此属性，您可以在编辑器中隐藏列表的选项卡页面。<br><br>  <br><br>`<a:a name="VISIBLE" value="false"/>`|
|**DESC**|用于为配置元素添加描述。如果点击了列表图标，该描述对用户在 Description View（描述视图）中可见。参见 6.2.4.2 节“布尔值”了解如何创建描述的详细信息。如那里所示，您可以创建包含指向其他配置元素链接的单行、多行或 HTML 描述。<br><br>  <br><br>_(图 6.52. 列表的描述)_|
|**EDITABLE**|用于禁用配置列表。<br><br>  <br><br>**注意：** 您不能使用编辑器选择已禁用列表的列表条目。<br><br>  <br><br>`<a:da name="EDITABLE" value="false"/>`<br><br>  <br><br>_(图 6.53. 可编辑的列表)_|
|**READONLY**|您不能使用编辑器向已禁用的列表添加列表条目。如果尝试通过其他方式（例如，通过 `DCtxt.Any.copy(...)`）添加子项，则会报告错误。<br><br>  <br><br>`<a:da name="READONLY" value="true"/>`<br><br>  <br><br>_(图 6.54. 只读列表)_|
|**LABEL**|用于更改列表元素的标签。<br><br>  <br><br>`<a:a name="LABEL" value="Example label"/>`<br><br>  <br><br>_(图 6.55. 列表的标签)_|
|**COLUMNS**|如果列表包含容器或 Choice（仅适用于 `type="MAP"` 的列表），则通过 `COLUMNS` 属性定义表格的列。属性值可以通过 XPath 引用相对于列表内容器或 Choice 的参数或引用（必须满足 `UPPER-MULTIPLICITY` = `LOWER_MULTIPLICITY` == 1）。<br><br>  <br><br>`<a:a name="COLUMNS">`<br><br>  <br><br>`<a:v>ListString</a:v>`<br><br>  <br><br>`<a:v>SubContainer/ListInteger</a:v>`<br><br>  <br><br>`</a:a>`<br><br>  <br><br>_(图 6.56. 列表列)_|
|**COLUMN_TITLE**|用于设置表格内自定义列的标题。<br><br>  <br><br>`xml<v:lst name="TestList" type="MAP"><a:a name="COLUMNS"> <a:v>ListString</a:v> <a:v>ListInteger</a:v></a:a><v:ctr name="ListContainer1" type="IDENTIFIABLE"> <v:var name="ListString" type="STRING"> <a:a name="COLUMN_TITLE" value="String title"/> <a:a name="COLUMN_TOOLTIP" value="String tooltip"/> </v:var> <v:var name="ListInteger" type="INTEGER"> <a:a name="COLUMN_TITLE" value="Integer title"/> <a:a name="COLUMN_TOOLTIP" value="Integer tooltip"/> </v:var></v:ctr></v:lst>`<br><br>  <br><br>_(图 6.57. 列标题)_|
|**COLUMN_TOOLTIP**|用于为表格内的自定义列添加工具提示。<br><br>  <br><br>_(代码示例同上)_<br><br>  <br><br>_(图 6.58. 列工具提示)_|

---

**（第 161-170 页翻译结束）**

接下来的内容（第 171 页起）将介绍：

- **6.2.4.7. Tab assignment (选项卡分配)**：如何配置列表行数和自动分页。
    
- **6.3. XPath API**：XPath 在 DataModel 中的使用、概念和 API 详解。
    

**是否继续翻译？**